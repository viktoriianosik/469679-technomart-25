var actionBuy=document.querySelectorAll(".catalog-item__action-buy"),modalCart=document.querySelector(".modal__product-in-cart");if(actionBuy&&modalCart)for(var closeCart=modalCart.querySelector(".modal-close"),i=0;i<actionBuy.length;i++)actionBuy[i].addEventListener("click",function(e){e.preventDefault(),modalCart.classList.add("modal-show")}),closeCart.addEventListener("click",function(e){e.preventDefault(),modalCart.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),modalCart.classList.contains("modal-show")&&modalCart.classList.remove("modal-show"))});var contactsLink=document.querySelector(".main-contacts__link"),modalFeedback=document.querySelector(".modal-feedback");if(modalFeedback&&contactsLink){var closeFeedback=modalFeedback.querySelector(".modal-close"),textFeedback=modalFeedback.querySelector("[name=text]"),emailFeedback=modalFeedback.querySelector("[name=email]"),nameFeedback=modalFeedback.querySelector("[name=name]"),formFeedback=modalFeedback.querySelector("form"),isStorageSupport=!0,storageNameFeedback="",storageEmailFeedback="";try{storageNameFeedback=localStorage.getItem("nameFeedback"),storageEmailFeedback=localStorage.getItem("emailFeedback")}catch(e){isStorageSupport=!1}contactsLink.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.add("show-feedback"),storageNameFeedback&&(nameFeedback.value=storageNameFeedback,emailFeedback.focus()),storageEmailFeedback?(emailFeedback.value=storageEmailFeedback,textFeedback.focus()):nameFeedback.focus()}),closeFeedback.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.remove("show-feedback"),modalFeedback.classList.remove("modal-error")}),formFeedback.addEventListener("submit",function(e){nameFeedback.value&&emailFeedback.value&&textFeedback.value?isStorageSupport&&(localStorage.setItem("nameFeedback",nameFeedback.value),localStorage.setItem("emailFeedback",emailFeedback.value)):(e.preventDefault(),modalFeedback.classList.remove("modal-error"),modalFeedback.offsetWidth=modalFeedback.offsetWidth,modalFeedback.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),modalFeedback.classList.contains("show-feedback")&&(modalFeedback.classList.remove("show-feedback"),modalFeedback.classList.remove("modal-error")))});var contactsMap=document.querySelector(".main-contacts__map"),modalMap=document.querySelector(".modal-map"),closeMap=modalMap.querySelector(".modal-close");contactsMap.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-show")}),closeMap.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),modalMap.classList.contains("modal-show")&&modalMap.classList.remove("modal-show"))})}